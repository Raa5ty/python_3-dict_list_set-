"""
В проекте создать новый модуль victory.py. Задание
Написать или улучшить программу Викторина из предыдущего дз (Для тренировки предлагаю не пользоваться никакими библиотеками кроме random)
Есть 10 известных людей и их даты рождения в формате '02.01.1988' ('dd.mm.yyyy') - предлагаю для тренировки пока использовать строку
Программа выбирает из этих 10-и 5 случайных людей, это можно реализовать с помощью модуля random и функции sample
Пример использования sample:
import random
numbers = [1, 2, 3, 4, 5]

# 2 - количество случайных элементов
result = random.sample(numbers, 2)

print(result) # [5, 1]

После того как выбраны 5 случайных людей, предлагаем пользователю ввести их дату рождения
пользователь вводит дату в формате 'dd.mm.yyyy'

Например 03.01.2009, если пользователь ответил неверно, то выводим правильный ответ, но уже в следующем виде: третье января 2009 года, склонением можно пренебречь

В конце считаем количество правильных и неправильных ответов и предлагаем начать снова
"""
import random

# Словарь для склонения дней месяца
days_dict = {
    '01': 'Первое', '02': 'Второе', '03': 'Третье',
    '04': 'Четвёртое', '05': 'Пятое', '06': 'Шестое',
    '07': 'Седьмое', '08': 'Восьмое', '09': 'Девятое',
    '10': 'Десятое', '11': 'Одиннадцатое', '12': 'Двенадцатое',
    '13': 'Тринадцатое', '14': 'Четырнадцатое', '15': 'Пятнадцатое',
    '16': 'Шестнадцатое', '17': 'Семнадцатое', '18': 'Восемнадцатое',
    '19': 'Девятнадцатое', '20': 'Двадцатое', '21': 'Двадцать первое',
    '22': 'Двадцать второе', '23': 'Двадцать третье', '24': 'Двадцать четвертое',
    '25': 'Двадцать пятое', '26': 'Двадцать шестое', '27': 'Двадцать седьмое',
    '28': 'Двадцать восьмое', '29': 'Двадцать девятое', '30': 'Тридцатое', '31': 'Тридцать первое'
}

# Словарь с месяцами
months_dict = {
    '01': 'января', '02': 'февраля', '03': 'марта',
    '04': 'апреля', '05': 'мая', '06': 'июня',
    '07': 'июля', '08': 'августа', '09': 'сентября',
    '10': 'октября', '11': 'ноября', '12': 'декабря'
}

# Список известных людей и их даты рождения
famous_people = {
    "А.С. Пушкин": "06.06.1799",
    "Л.Н. Толстой": "09.09.1828",
    "Ф.М. Достоевский": "11.11.1821",
    "П.И. Чайковский": "07.05.1840",
    "С.А. Есенин": "03.10.1895",
    "М.Горький": "16.03.1868",
    "А.Солженицын": "11.12.1918",
    "А.Петров": "26.05.1900",
    "М.Шолохов": "24.05.1905",
    "А.Тургенев": "09.11.1818"
}

# Функция для преобразования даты в текстовый формат
def format_date(date_str):
    day, month, year = date_str.split('.')
    day_text = days_dict[day]
    month_text = months_dict[month]
    return f"{day_text} {month_text} {year} года"

# Основная функция викторины
def quiz():
    # Выбираем 5 случайных людей из списка
    random_people = random.sample(list(famous_people.keys()), 5)

    # Инициализируем счетчики правильных и неправильных ответов
    correct_answers = 0
    incorrect_answers = 0

    # Проходим по каждому выбранному человеку
    for person in random_people:
        correct_date = famous_people[person]
        user_date = input(f"Введите дату рождения {person}: ")

        # Проверяем правильность ответа
        if user_date == correct_date:
            correct_answers += 1
        else:
            incorrect_answers += 1
            correct_date_formatted = format_date(correct_date)
            print(f"Неправильно. Правильный ответ: {correct_date_formatted}")

    # Выводим результаты викторины
    print()
    print("Количество правильных ответов:", correct_answers)
    print("Количество ошибок:", incorrect_answers)

# Основной цикл программы, который позволяет перезапускать викторину
while True:
    # Запускаем викторину
    quiz()

    # Спрашиваем пользователя, хочет ли он начать игру сначала
    restart = input("Хотите начать игру сначала? (да/нет): ").strip().lower()

    # Если ответ не 'да', выходим из цикла и завершаем программу
    if restart != 'да':
        print("Спасибо за игру!")
        break
